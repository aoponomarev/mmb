# План_Control_Plane.md

> Категория: План контрольного контура (управляющее ядро)
> Статус: Черновик
> Источники: MBB control-plane, MCP orchestration навыки

---

## 1. Контекст и границы

Control Plane в MMB — это слой координации MCP/агентов/служб и общих контрактов запуска.
Контур не включает бизнес-логику backend модулей.

## 2. Цели / Non-goals

**Цели:**
- декомпозировать legacy control-plane из MBB в минимальные модули MMB;
- определить контракты запуска, health-checks и failover-поведение;
- отделить orchestration от domain-логики.

**Non-goals:**
- перенос всех legacy сценариев оркестрации без подтвержденной ценности;
- сложная cloud-оркестрация до стабилизации локального control-plane.

## 3. Почему этот подход

- изоляция control-plane снижает каскадные поломки при миграции;
- стандартизованные контракты запуска повышают наблюдаемость;
- проще масштабировать позже на cloud-runner.

## 4. Альтернативы

- встроить orchestration в backend-сервисы — отклонено (смешение ответственности).
- временно отказаться от control-plane — отклонено (потеря управляемости).

## 5. Зависимости

- Upstream: `План_Infrastructure_Docker.md`, `План_Skills_MCP.md`
- Downstream: `План_Backend_Core.md`, `План_AI_Orchestration.md`, `План_Monitoring.md`

## 6. Риски и снижение

- несовместимость старых запускных сценариев -> adapter-layer с четкими интерфейсами.
- неявные зависимости между MCP и сервисами -> обязательная карта зависимостей.

## 7. Definition of Done

- определена целевая архитектура control-plane v1;
- есть bootstrap flow и health contracts;
- все зависимости и точки отказа описаны в runbook.

## 8. Чек-лист

- [ ] Инвентаризировать текущие control-plane сценарии MBB.
- [ ] Определить минимальный target-control-plane в MMB.
- [ ] Описать bootstrap/health/restart контракты.
- [ ] Зафиксировать границы с backend/integrations.
