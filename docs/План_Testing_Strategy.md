# План_Testing_Strategy.md

> Категория: План тестовой стратегии миграции
> Статус: Черновик
> Источники: testing/process/troubleshooting практики MBB

---

## 1. Контекст и границы

Контур определяет, как подтверждать корректность миграции на каждом этапе:
unit/integration/smoke/preflight/regression.

## 2. Цели / Non-goals

**Цели:**
- ввести предсказуемый quality-gate pipeline;
- проверить критичные потоки до merge и после deploy;
- привязать тесты к этапам миграции.

**Non-goals:**
- 100% покрытие тестами всего legacy;
- внедрение тяжелых e2e фреймворков до готовности базового runtime.

## 3. Почему этот подход

- миграция без поэтапных проверок дает отложенные системные ошибки;
- preflight + smoke сначала дают наилучшее соотношение цена/надежность.

## 4. Альтернативы

- только ручная проверка — отклонено.
- сначала полный e2e набор — отложено, пока unstable архитектура.

## 5. Зависимости

- Upstream: `План_Backend_Core.md`, `План_Infrastructure_Docker.md`
- Downstream: `План_GitHub_Workspace.md`, `План_Rollback.md`

## 6. Риски и снижение

- flaky tests -> детерминированные fixtures и таймаут-контракты.
- ложное чувство безопасности -> обязательные smoke checks на критичных маршрутах.

## 7. Definition of Done

- есть тестовая пирамида v1 и четкие quality gates;
- определены обязательные pre-merge и pre-release проверки;
- тестовые статусы синхронизируются с master plan.

## 8. Чек-лист

- [ ] Определить минимальный test matrix по этапам.
- [ ] Зафиксировать обязательные smoke/preflight проверки.
- [ ] Включить validators (`env/ssot/skills/symlinks`) в quality gates.
- [ ] Описать регрессионный набор для ключевых контуров.
