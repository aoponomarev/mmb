# План_Libs.md

> Категория: План библиотек и зависимостей
> Статус: Черновик
> Источники: `A_LIBS.md`, libs/process навыки MBB

---

## 1. Контекст и границы

Контур охватывает управление зависимостями (Node/libs), политику версий и контракты обновления.

## 2. Цели / Non-goals

**Цели:**
- определить dependency governance для MMB;
- снизить риск несовместимостей (ABI/version drift);
- зафиксировать policy обновления критичных библиотек.

**Non-goals:**
- миграция всех исторических libs-экспериментов из MBB;
- бесконтрольные обновления major версий.

## 3. Почему этот подход

- при глубокой миграции зависимости часто ломают сборку сильнее, чем код;
- библиотечные правила должны быть документированы до масштабного переноса модулей.

## 4. Альтернативы

- обновлять зависимости ad-hoc — отклонено (высокий риск regression chains).
- полностью freeze-нуть зависимости — отклонено (технический долг и security lag).

## 5. Зависимости

- Upstream: `План_Backend_Core.md`, `План_Infrastructure_Docker.md`
- Downstream: `План_Testing_Strategy.md`, `План_Rollback.md`

## 6. Риски и снижение

- несовместимость native addons -> отдельные ABI checks.
- конфликт peer deps -> lockfile дисциплина + preflight checks.

## 7. Definition of Done

- определена policy версий и апдейтов;
- задокументированы критичные зависимости и их владельцы;
- есть процедура безопасного major-upgrade.

## 8. Чек-лист

- [ ] Провести аудит критичных зависимостей MBB.
- [ ] Сформировать policy version pinning / upgrade cadence.
- [ ] Добавить ABI/compatibility ворота.
- [ ] Синхронизировать с test и rollback планами.
